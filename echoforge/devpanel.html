
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>EchoForge™ Dev Panel</title>
  <style>
    body { font-family: sans-serif; background: #1e1e1e; color: #e0e0e0; padding: 2rem; }
    h1 { color: #90e090; }
    .section { margin-bottom: 2rem; }
    .module {
      border: 1px solid #333;
      padding: 1rem;
      margin-bottom: 0.5rem;
      border-radius: 8px;
      background: #2c2c2c;
    }
    .key { font-weight: bold; color: #ddd; }
    .value { color: #90c0ff; }
    .ok { color: #00cc66; }
    .fail { color: #ff4444; }
  </style>
</head>
<body>
  <h1>EchoForge™ Dev Panel</h1>
  <div id="engineData">Loading...</div>

  <script>
    async function loadDevPanel() {
      const [engineRes, versionRes] = await Promise.all([
        fetch('../echoforge/engine.json').then(r => r.json()),
        fetch('../echoforge/engine_versions.json').then(r => r.json())
      ]);

      const engine = engineRes;
      const versions = versionRes;
      const container = document.getElementById('engineData');
      container.innerHTML = '';

      const title = document.createElement('div');
      title.classList.add('section');
      title.innerHTML = `
        <p><span class='key'>Engine:</span> <span class='value'>${engine.engine_name}</span></p>
        <p><span class='key'>Version:</span> <span class='value'>${engine.version}</span></p>
        <p><span class='key'>Description:</span> <span class='value'>${engine.description}</span></p>`;
      container.appendChild(title);

      const modules = document.createElement('div');
      modules.classList.add('section');
      modules.innerHTML = '<h2>Core Modules</h2>';
      engine.core_modules.forEach(mod => {
        const version = versions[mod + ".js"];
        const versionInfo = version
          ? `<div><span class='key'>v${version.version}</span> - <span class='ok'>${version.status}</span><br>
               <span class='value'>${version.description}</span> <br>
               <span class='key'>Updated:</span> ${version.last_updated}</div>`
          : "<div><span class='fail'>No version info found</span></div>";
        modules.innerHTML += `
          <div class='module'>
            <span class='value'>${mod}</span>
            ${versionInfo}
          </div>`;
      });
      container.appendChild(modules);

      const games = document.createElement('div');
      games.classList.add('section');
      games.innerHTML = '<h2>Used By</h2>';
      engine.used_by.forEach(game => {
        games.innerHTML += `<div class='module'><span class='value'>${game}</span></div>`;
      });
      container.appendChild(games);

      const outputs = document.createElement('div');
      outputs.classList.add('section');
      outputs.innerHTML = '<h2>Engine Outputs</h2>';
      engine.outputs.forEach(output => {
        outputs.innerHTML += `<div class='module'><span class='value'>${output}</span></div>`;
      });
      container.appendChild(outputs);
    }

    loadDevPanel();
  </script>
</body>
</html>
